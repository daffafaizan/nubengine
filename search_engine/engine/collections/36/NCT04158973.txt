
    
      Randomization and sequence generation A computerized random-number generator will be used to
      generate the allocation sequence. In this multicenter trial involving 10 hospitals,
      randomization procedures will be organized centrally.

      Stratified block randomization with a varying block size of 4 or 6 will be used to allocate
      patients into experimental or control group. Patients with lung cancer will be stratified
      into those under planned medical or surgical treatments.

      In each stratum, patients will be blocked according to their admission sequence. Four or six
      patients consecutively admitted will be one block depending on the block size. In each block,
      patients will be randomly allocated into experimental or control group according to sequence
      generated in advance by software.

      Allocation concealment/Blinded randomization Patient assignments will be enclosed in a
      sequentially numbered, opaque, sealed envelopes (SNOSE). Clinicians in charge of patient
      enrollment will not know the allocation sequence until eligible patients who meet inclusion
      and exclusion criteria are enrolled.

      An independent statistician will generate the random allocation sequence. Physicians will
      enroll participants and assign interventions in experimental or control group.

      Blinding/Open label This is an open-label trial that patients, clinicians and researchers
      will know allocation assignments after enrollment. But imaging experts providing the duplex
      ultrasound and CTPA results will be blinded in order to objectively assess the 30-day
      CTPA-proven VTE incidence and other outcomes in both groups. An independent data monitoring
      board will evaluate the trial data and safety.
    
  