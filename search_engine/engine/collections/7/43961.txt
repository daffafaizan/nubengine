Saat su melewati pam stack, itu dilakukan sebagai pengguna yang Anda ubah, bukan pengguna yang Anda ubah. Jadi jika Anda menambahkan aturan seperti + : martin: ALL, itu akan memungkinkan siapa pun mengubah ke martin. Bahkan jika Anda mengubah martin ke martin-test, itu masih akan membiarkan siapa pun melakukannya. Jika Anda tidak ingin mengubah grup atau menggunakan sudo, gunakan modul pam yang disebut pam_exec untuk mengeksekusi skrip eksternal dalam tahap pam. Tambahkan baris di /etc/pam.d/su Anda setelah baris pam_rootok.so: /path/to/script memiliki izin 755 (rwxr-xr-x) dan konten berikut: Jadi skrip ini ada dengan sukses jika su :