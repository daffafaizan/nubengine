Smart Capsule for Automatic Adherence Monitoring